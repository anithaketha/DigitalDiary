{"ast":null,"code":"var _jsxFileName = \"/home/rgukt/Downloads/Digital_diary-main/frontend/src/screens/Register.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport FormContainer from '../components/FormContainer';\nimport { getFromLocalStorage, setToLocalStorage } from '../utils/localStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (getFromLocalStorage('userInfo')) return navigate('/');\n  }, [navigate]);\n\n  const userRegisterApi = async _ref => {\n    let {\n      name,\n      email,\n      password\n    } = _ref;\n\n    try {\n      const {\n        data\n      } = await axios.post(`http://localhost:4000/api/auth/register`, {\n        name,\n        email,\n        password\n      }, {\n        headers: {\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      setToLocalStorage('userInfo', data);\n      return navigate('/');\n    } catch (error) {\n      var _error$response, _error$response$data;\n\n      setError(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error);\n      return setTimeout(() => {\n        setError('');\n      }, 5000);\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!name || !email || !password) return null;\n\n    if (password !== confirmPassword) {\n      setError('Your password and confirm password do not match');\n      setTimeout(() => {\n        setError('');\n      }, 5000);\n      return null;\n    }\n\n    userRegisterApi({\n      name,\n      email,\n      password,\n      confirmPassword\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      id: \"register\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-5 col-md-8 col-12 mx-auto shadow-sm p-5\",\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger text-center mb-3\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title text-center\",\n          children: \"Registration Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 68\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"form-label\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setName(e.target.value),\n            value: name,\n            type: \"text\",\n            className: \"form-control\",\n            id: \"name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setEmail(e.target.value),\n            value: email,\n            type: \"email\",\n            className: \"form-control\",\n            id: \"email\",\n            \"aria-describedby\": \"emailHelp\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setPassword(e.target.value),\n            value: password,\n            type: \"password\",\n            className: \"form-control\",\n            id: \"password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirmPassword\",\n            className: \"form-label\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setConfirmPassword(e.target.value),\n            value: confirmPassword,\n            type: \"password\",\n            className: \"form-control\",\n            id: \"confirmPassword\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"register\",\n            children: \"Already have an account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), ' ', /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            class: \"logi\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary w-100 text-light\",\n          children: \"REGISTER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"lclHcx4xAxlTS5cOomlQdFu6bUE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["axios","React","useEffect","useState","Link","useNavigate","FormContainer","getFromLocalStorage","setToLocalStorage","Register","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","navigate","userRegisterApi","data","post","headers","response","setTimeout","handleSubmit","e","preventDefault","target","value"],"sources":["/home/rgukt/Downloads/Digital_diary-main/frontend/src/screens/Register.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport FormContainer from '../components/FormContainer'\nimport { getFromLocalStorage, setToLocalStorage } from '../utils/localStorage'\n\nconst Register = () => {\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [error, setError] = useState('')\n\n  const navigate = useNavigate()\n  useEffect(() => {\n    if (getFromLocalStorage('userInfo')) return navigate('/')\n  }, [navigate])\n\n  const userRegisterApi = async ({ name, email, password }) => {\n    try {\n      const { data } = await axios.post(\n        `http://localhost:4000/api/auth/register`,\n        {\n          name,\n          email,\n          password,\n        },\n       { headers:{'Access-Control-Allow-Origin':'*'}},\n      )\n      setToLocalStorage('userInfo', data)\n      return navigate('/')\n    } catch (error) {\n      setError(error?.response?.data?.error)\n      return setTimeout(() => {\n        setError('')\n      }, 5000)\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if (!name || !email || !password) return null\n\n    if (password !== confirmPassword) {\n      setError('Your password and confirm password do not match')\n      setTimeout(() => {\n        setError('')\n      }, 5000)\n      return null\n    }\n\n    userRegisterApi({\n      name,\n      email,\n      password,\n      confirmPassword,\n    })\n  }\n\n  return (\n    <FormContainer  >\n      <form onSubmit={(e) => handleSubmit(e)} id=\"register\">\n        <div className='col-lg-5 col-md-8 col-12 mx-auto shadow-sm p-5'>\n          {error && (\n            <div className='alert alert-danger text-center mb-3'>{error}</div>\n          )}\n          <h1 className='title text-center'>Registration Form</h1> <hr />\n          <div className='mb-3'>\n            <label htmlFor='name' className='form-label'>\n              Name\n            </label>\n            <input\n              onChange={(e) => setName(e.target.value)}\n              value={name}\n              type='text'\n              className='form-control'\n              id='name'\n              required\n            />\n          </div>\n          <div className='mb-3'>\n            <label htmlFor='email' className='form-label'>\n              Email address\n            </label>\n            <input\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n              type='email'\n              className='form-control'\n              id='email'\n              aria-describedby='emailHelp'\n              required\n            />\n          </div>\n          <div className='mb-3'>\n            <label htmlFor='password' className='form-label'>\n              Password\n            </label>\n            <input\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n              type='password'\n              className='form-control'\n              id='password'\n              required\n            />\n          </div>\n          <div className='mb-3'>\n            <label htmlFor='confirmPassword' className='form-label'>\n              Confirm Password\n            </label>\n            <input\n              onChange={(e) => setConfirmPassword(e.target.value)}\n              value={confirmPassword}\n              type='password'\n              className='form-control'\n              id='confirmPassword'\n              required\n            />\n          </div>\n          <div className='mb-3'>\n            <label htmlFor='register'>Already have an account?</label>{' '}\n            <Link to='/login' class=\"logi\" >Login</Link>\n          </div>\n          <button type='submit' className='btn btn-primary w-100 text-light'>\n            REGISTER\n          </button>\n        </div>\n      </form>\n    </FormContainer>\n  )\n}\n\nexport default Register\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}